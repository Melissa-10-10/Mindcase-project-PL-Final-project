# Mindcase-project-PL-Final-project

# MindEase – Smart Mental Health Support and
Tracking System

## INTRODUTION

MindEase is a smart mental health support and tracking system that helps users monitor and
manage their emotional well-being. The platform allows users to log their moods, perform quick
self-assessments, and receive tailored recommendations to improve their mental health. It uses
data analysis to identify mood patterns and provide timely advice or professional guidance. This
system encourages early mental health awareness and self-care.



## BUSINESS PROCESS MODELING

![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/6f0ea6ae686bf4216f452c8746405ca571597ede/BPMN.jpg)

MindCase collects user mood data, validates login credentials, and stores all information in the database. The system retrieves the user’s mood history, analyzes emotional patterns, and generates personalized mental-health recommendations through its Recommendation Engine. These recommendations are then delivered back to the user. In high-risk cases, the system alerts a mental-health professional, who provides guidance that is sent directly to the user through the platform.

## LOGICAL MODEL DESIGN

```SQL
CREATE TABLE USER_T (
    USER_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USERNAME VARCHAR2(50) UNIQUE NOT NULL,
    PASSWORD_HASH VARCHAR2(255) NOT NULL,
    REGISTRATION_DATE DATE DEFAULT SYSDATE NOT NULL
);
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/0e399e7c024c732c618d0284caf6756878056c3d/user%20id%20erd.PNG)

```SQL
CREATE TABLE MOOD_LOG (
    LOG_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER NOT NULL,
    MOOD_VALUE NUMBER(2, 1) CHECK (MOOD_VALUE BETWEEN 1.0 AND 10.0) NOT NULL,
    "TIMESTAMP" TIMESTAMP(6) DEFAULT SYSTIMESTAMP NOT NULL,
    CONSTRAINT FK_MOOD_USER FOREIGN KEY (USER_ID) REFERENCES USER_T(USER_ID)
);
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/410464fe0f6eeb2b7c5c56fad81ad4f46a6d0860/MOOD%20ERD.PNG)
```SQL
CREATE TABLE ASSESSMENT_SCORE (
    SCORE_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER NOT NULL,
    CALCULATED_SCORE NUMBER(5, 2) NOT NULL,
    EVALUATION_TIMESTAMP TIMESTAMP(6) DEFAULT SYSTIMESTAMP NOT NULL,
    CONSTRAINT FK_SCORE_USER FOREIGN KEY (USER_ID) REFERENCES USER_T(USER_ID)
);
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/190442abd006d0295258e4777d8caac86e4b4d11/NEW%20ASSESS%20ERD.PNG)
```SQL
CREATE TABLE MENTAL_HEALTH_RISK (
    RISK_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER NOT NULL,
    RISK_LEVEL VARCHAR2(20) NOT NULL,
    GUIDANCE_CONTENT VARCHAR2(2000),
    EVALUATION_TIMESTAMP TIMESTAMP(6) DEFAULT SYSTIMESTAMP NOT NULL,
    CONSTRAINT FK_RISK_USER FOREIGN KEY (USER_ID) REFERENCES USER_T(USER_ID)
);
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/2bdf969bfe89446670bd288e9c71f418b73eb7c4/NEW%20MENTAL%20ERD.PNG)

```SQL
CREATE TABLE RECOMMENDATION_T (
    REC_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    REC_TYPE VARCHAR2(50) UNIQUE NOT NULL,
    DESCRIPTION VARCHAR2(255)
);
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/74af5f28f76d4110a380afd1236332d921715658/recommendation%20erd.PNG)
```SQL
CREATE TABLE USER_RECOMMENDATION (
    USER_REC_ID NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID NUMBER NOT NULL,
    REC_ID NUMBER NOT NULL,
    ASSIGNED_DATE DATE DEFAULT SYSDATE NOT NULL,
    CONSTRAINT FK_UR_USER FOREIGN KEY (USER_ID) REFERENCES USER_T(USER_ID),
    CONSTRAINT FK_UR_REC FOREIGN KEY (REC_ID) REFERENCES RECOMMENDATION_T(REC_ID)
);
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/05e7326cca1e3e97b2e8317c3859acaa3e6a3427/NEW%20USER%20ERD.PNG)


## DATABASE CREATION

Table space creation
Tablespaces act as logical containers that map to physical data files on disk, allowing for efficient organization and management of your application's data.

```SQL

CREATE TABLESPACE MINDCASES_DATA
DATAFILE 'MINDCASES_DATA01.dbf' 
SIZE 100M 
AUTOEXTEND ON NEXT 50M 
MAXSIZE 1000M;
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/35255bb9ce26368b613ade36c16d1b5fb935262b/table%20space%20created.PNG)

Memory parameter creation
Memory parameters govern the memory areas of the Oracle instance, which directly affects the speed of data processing and transaction execution.

```sql
-- DDL to set the memory parameters
ALTER SYSTEM SET SGA_TARGET = 800M SCOPE=BOTH;
ALTER SYSTEM SET PGA_AGGREGATE_TARGET = 200M SCOPE=BOTH;
```
![image](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/fdca16ed70b187a40d2be3fa52c210c7fdd3277c/memory%20parameter.PNG)

### TESTING QUERIES

***SELECT***
```SQL
SELECT 'USER_T' AS Table_Name, COUNT(*) AS Row_Count FROM USER_T
UNION ALL
SELECT 'RECOMMENDATION_T', COUNT(*) FROM RECOMMENDATION_T
UNION ALL
SELECT 'MOOD_LOG', COUNT(*) FROM MOOD_LOG;
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/a2a1f12771848cac7252e89744e848a5eedec130/select%20the%20queries.PNG)

![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/38012d50af485f47462315a3c51ed69a7db78d7b/testing%20select.PNG)

***JOIN***
```SQL
SELECT
    u.USERNAME,
    ml.MOOD_VALUE,
    ml."TIMESTAMP"
FROM 
    USER_T u 
JOIN 
    MOOD_LOG ml ON u.USER_ID = ml.USER_ID
WHERE 
    u.USERNAME = 'john_doe'
ORDER BY
    ml."TIMESTAMP" DESC
FETCH FIRST 10 ROWS ONLY;
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/da2f38ca5b6c69ddb92d796591ee91adc368cf98/testing%20join%20in.PNG)

***GROUP BY***
```SQL
SELECT
    u.USERNAME,
    COUNT(ml.LOG_ID) AS Total_Mood_Logs,
    ROUND(AVG(ml.MOOD_VALUE), 2) AS Avg_Mood_Value
FROM
    USER_T u
LEFT JOIN
    MOOD_LOG ml ON u.USER_ID = ml.USER_ID
GROUP BY
    u.USERNAME
ORDER BY
    Avg_Mood_Value DESC;
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/93ac95c3ec31a3d1cf5b6483ca3ccb89a6debffa/testing%20group%20by.PNG)

***SUBQUERIES***

```SQL
SELECT
    u.USERNAME,
    T1.User_Avg_Mood
FROM
    USER_T u
JOIN (
    -- T1: Subquery to calculate each user's average mood
    SELECT 
        USER_ID, 
        AVG(MOOD_VALUE) AS User_Avg_Mood
    FROM
        MOOD_LOG
    GROUP BY
        USER_ID
) T1 ON u.USER_ID = T1.USER_ID
WHERE
    T1.User_Avg_Mood < (
        -- Inner Subquery: Calculate the global average mood
        SELECT AVG(MOOD_VALUE) FROM MOOD_LOG
    )
ORDER BY
    T1.User_Avg_Mood;
```
![IMAGE](https://github.com/Melissa-10-10/Mindcase-project-PL-Final-project/blob/f6d03590b898d2ff05bac1b85e6c30c310ef3995/testing%20subqueries.PNG)
